# Redis

全称: Remote Dictionary Service  远程字典服务

## 1 SQL 和 NoSQL

### 1.1 SQL

> 1. 以表格的形式, 基于行存储数据, 是一个二维的模式
> 2. 在使用前, 需要定义好表的模式(schema), 数据都是结构化的, 数据需要适应表结构
> 3. 表与表之间存在关联, 可以通过多种张中取出相关的数据
> 4. 大部分关系型数据库都支持 SQL (结构化查询语言) 的操作, 支持复杂的关联查询
> 5. 通过支持事务 (ACID 酸) 来提供严格或者实时的数据一致性 (原子性: atomicity, 一致性: consistency, 隔离性: isolation, 持久性: durability)

* 局限性

> 1. 扩容难度大,
> 2. 表结构修改困难, 存储的数据格式也受到限制
> 3. 在高并发和高数据量的情况下, 关系型数据库通常会把数据持久化到磁盘, 基于磁盘的读写压力比较大

### 1.2 NoSQL

> 1. 采用类 JSON 格式的文档存储键值对
> 2. 存储的数据不需要特定的模式, 数据可以是非结构化的
> 3. 表与表之间没有关联, 可扩展性强
> 4. 使用 JSON 数据对象进行查询
> 5. 保证数据的最终一致性, 遵循 BASE (碱性) 理论 (（基本可用: Basically Available, 软状态: Soft-state, 最终一致性: Eventually Consistent)
> 6. 支持分布式, 能够对数据进行分片存储, 扩缩容简单

* 局限性

> 1. 无完整约束, 复杂业务场景支持较差
> 2. 数据结构相对复杂, 复杂查询方面稍欠
> 3. 通用性差, 没有sql语句那样通用的语句, 学习和使用成本较高

* 种类
> 1. Redis - 键值型数据库
> 2. MongoDB - 文档型数据库
> 3. HBase - 列存储数据库


### 1.3 NewSQL

结合了 SQL 和 NoSQL 的特性, 例如 PingCAP 的 TiDB

## 2 Redis 的特性

> 1. 是一个开源的基于内存的数据结构存储系统, 可以用作数据库, 缓存和消息代理
> 2. 更丰富的数据类型, 字符串 (string), 散列 (hashes), 列表 (lists), 集合 (sets), 带范围查询的有序集合 (sorted sets), 位图 (bitmaps), 超日志 (hyperloglogs), 地理空间索引 (geospatial indexes), 流 (stream)
> 3. 内置了复制功能 (Replication), Lua 脚本 (Lua scripting),  LRU 内存淘汰策略 (LRU eviction), 事务 (transactions), 不同级别的磁盘持久化 (different levels of on-disk persistence), 高可用性(high availability) 支持
> 4. 高可用的支持模式 Redis 哨兵模式 (Redis Sentinel) 和 自动分区的 Redis 集群模式 (Redis Cluster)



