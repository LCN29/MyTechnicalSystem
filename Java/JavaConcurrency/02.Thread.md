# 2 Thread

线程是操作系统调度的最小单元，也叫轻量级进程。它被包含在进程之中，是进程中的实际运作单位。同一进程可以创建多个线程，每个线程都有自己独立的一块内存空间, 并且能够访问共享的内存变量。

## 2.1 线程的分类

在 Java 中, 线程可以分为 2 种
> 1. 守护线程: 守护线程是为用户线程服务的线程, 在后台默默地完成一些系统性的服务, 如垃圾回收等
> 2. 用户线程: 真正完成业务的工作线程

在一个应用程序中, 如果用户线程全部结束了, 意味着程序需要完成的业务操作已经结束, 系统可以退出了。  
所以当系统只剩下守护进程的时候, Java 虚拟机会自动退出。  
反之, 如果程序中的用户进程还在执行中， Java 虚拟机会等待器执行完成才结束。  

## 2.2 线程的创建

### 2.2.1 继承 Thread 类，重写 run 方法

```java
public void createThread() {

    Thread thread = new Thread(new Runnable(){

        @Override
        public void run() {
            System.out.println("Thread is running " + Thread.currentThread().getName());
        }

    }
    // 启动线程
    thread.start();
}
```

### 2.2.2 实现 Runnable 接口

```java
public void createThread() {

    Thread thread = new Thread(new Runnable(){

        @Override
        public void run() {
            System.out.println("Thread is running " + Thread.currentThread().getName());
        }
    });

    thread.start();
}
```

可以通过源码知道，Thread 是 Runnable 接口的实现类，调用 Thread.run / start 方法，最终是调用传进去的 Runnable 实现类的 run 方法。

